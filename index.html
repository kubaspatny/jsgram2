<!DOCTYPE html>
<html manifest="jsgram.manifest">
	<head>
		<meta charset="utf-8" />
	    <title>JSGram</title>

      <style type="text/css">
        @font-face {
          font-family: 'Material Icons';
          font-style: normal;
          font-weight: 400;
          src: url('font/MaterialIcons.woff2') format('woff2');
        }

        .material-icons {
          font-family: 'Material Icons';
          font-weight: normal;
          font-style: normal;
          font-size: 24px;
          line-height: 1;
          letter-spacing: normal;
          text-transform: none;
          display: inline-block;
          white-space: nowrap;
          word-wrap: normal;
          direction: ltr;
          -webkit-font-feature-settings: 'liga';
          -webkit-font-smoothing: antialiased;
        }  
      </style>

      <link type="text/css" rel="stylesheet" href="css/materialize.css"/>
      <link rel="stylesheet" href="css/styles.css">
      <link rel="stylesheet" href="css/dialog.css">


      <script type="text/javascript" src="js/CanvasRenderer.js"></script>
      <script type="text/javascript" src="js/ControlsController.js"></script>
      <script type="text/javascript" src="js/Filters.js"></script>
      <script type="text/javascript" src="js/FileSaver.js"></script>

      <script type="application/ld+json">
      {
          "@context": "http://schema.org",
          "@type": "Person",
          "name": "Kuba Spatny",
          "jobTitle": "Android Developer",
          "address": "Prague, Czech Republic",
          "affiliation": "http://www.seznam.cz/"
      }
      </script>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	</head>
  <body class="blue-grey lighten-2">

    <!-- Progress - Processing Image -->
    <div class="md-modal" id="confirmDialog">
      <div class="md-content">
        <h4 id="confirmTitle">Unsaved changes</h4>
        <div id="confirmText">
          Do you want to save changes?  
        </div>
        <div class="controls-wrapper">
          <button id="confirmDiscard" class="btn-flat">Discard</button>
          <button id="confirmSave" class="btn-flat">Save</button>
        </div>
      </div>
    </div>

    <div class="md-modal" id="infoAbout">
      <div class="md-content">
        <h4 class="modal-title">Hello!</h4>
        <div class="modal-text">
          <p itemscope itemtype="http://data-vocabulary.org/Person"> 
            Welcome to this amazing page. It was created by <span itemprop="name">Kuba Spatny</span>.<br/><br/>Do you want to know anything more about me? I guess you have no choice, because I am going to tell you anyways. I am an <span itemprop="role">Android developer</span> at <span itemprop="affiliation">Seznam.cz</span>. I love photography and books. Aaaand that's about it.
          </p>

          <h5><svg height="16" width="24" id="modal-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"/> Music time</h5>
          <p>
            To make the photo editing more pleasurable, you can play a timeless classic below!
          </p>
          <audio controls>
              <source src="audio/trololo.ogg" type="audio/ogg" />
              <source src="audio/trololo.mp3" type="audio/mpeg" />
              Sorry, no music for you.
          </audio>
            
        </div>
        <div class="controls-wrapper">
          <button id="aboutDiscard" class="btn-flat">I don't really care</button>
          <button id="aboutSave" class="btn-flat">OK</button>
        </div>
      </div>
    </div>

    <div class="md-modal" id="downloadDialog">
      <div class="md-content">
        <h4 class="modal-title">Download Image</h4>
        <div class="modal-text">
          <form id="download-form">
            <div class="input-field">
              <input placeholder="Write the file name" id="file_name" type="text" class="validate" required autocomplete="off" autofocus pattern="[a-z]{1,15}">
              <label for="file_name">File name (only lowercase letters allowed)</label>     
            </div>
          </form>        
        </div>

        <div class="controls-wrapper">
          <button id="downloadDiscard" class="btn-flat">Cancel</button>
          <button id="downloadSave" class="btn-flat">Download</button>
        </div>
      </div>
    </div>

    <div class="md-modal" id="loadingDialog">
      <div class="md-content">
        <h4>Processing Image</h4>
        <div>
          <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
          </div> 
        </div>
      </div>
    </div>

    <div id="dialogOverlay" class="md-overlay"></div>
    <!--  -->

    <header>
      <nav class="blue-grey darken-4">
        <div class="nav-wrapper">
          <a id="logo" class="brand-logo">JSGram</a>

          <a data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>

          <ul id="offline-nav" class="right">
            <li><a id="offline-mode" style="display: none;">Offline mode</a></li>
          </ul>

          <ul id="about-nav" class="right hide-on-med-and-down">
            <li class="divider"></li>
            <li><a id="about-button" class="right tooltipped" data-tooltip="About me"><i class="material-icons">person</i></a></li>
          </ul>

          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a id="crop-button" class="tooltipped" data-tooltip="Crop"><i class="material-icons">crop</i></a></li>
            <li><a id="brightness-button" class="tooltipped" data-tooltip="Brightness and Contrast"><i class="material-icons">brightness_medium</i></a></li>
            <li><a id="filters-button" class="tooltipped" data-tooltip="Filters"><i class="material-icons">filter_hdr</i></a></li>
            
            <li><a id="save-button" class="tooltipped" data-tooltip="Save"><i class="material-icons">save</i></a></li>
            <li><a id="discard-button" class="tooltipped" data-tooltip="Discard"><i class="material-icons">delete</i></a></li>
          </ul>

          <ul class="side-nav" id="mobile-demo">
            <li><a id="mobile-crop-button" ><i class="material-icons left">crop</i>Crop</a></li>
            <li><a id="mobile-brightness-button" ><i class="material-icons left">brightness_medium</i>Brightness</a></li>
            <li><a id="mobile-filters-button" ><i class="material-icons left">filter_hdr</i>Filters</a></li>   
            <li><a id="mobile-save-button" ><i class="material-icons left">save</i>Save</a></li>
            <li><a id="mobile-discard-button" ><i class="material-icons left">delete</i>Discard</a></li>
            
            <li><a id="mobile-about-button" ><i class="material-icons left">person</i>About me</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <main id="canvas-wrapper">
        <div id="canvas-wrapper2" class="flexable" style="display: none;">
          <canvas></canvas>
        </div>
        
        <div id="dragdrop" class="flexable">
            <p>Drag and Drop your photos here!</p>
        </div>

        <div id="loading-wrapper" style="display: none;" class="flexable">
          <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
          </div> 
        </div>
    </main>

    <footer class="page-footer blue-grey darken-4">
      <div id="crop-controls" style="display: none;">
        <a id="crop-discard" class="btn-flat right white-text m-t-10 m-b-10">discard</a>
        <a id="crop-save" class="btn-flat right white-text m-t-10 m-b-10">save</a>
      </div>

      <div id="brightness-controls" style="display: none;">
        <table id="brightness-sliders" class="left white-text m-t-10 m-b-10">
          <tbody>
            <tr>
              <td>Brightness</td>
              <td>Contrast</td>
              
            </tr>
            <tr>
              <td><input id="brightness-slider" class="left" type="range" min="-100" max="100" step="1"/></td>
              <td><input id="contrast-slider" class="left" type="range" min="-100" max="100" step="1"/></td>
              
            </tr>
          </tbody>
        </table>
        
        <a id="bc-discard" class="btn-flat right white-text m-t-10 m-b-10">discard</a>
        <a id="bc-save" class="btn-flat right white-text m-t-10 m-b-10">save</a>
      </div>

      <div id="filters-controls" style="display: none;">
        <a id="filter-grayscale" class="btn-flat left white-text m-t-10 m-b-10">grayscale</a>
        <a id="filter-sepia" class="btn-flat left white-text m-t-10 m-b-10">sepia</a>
        <a id="filter-solarize" class="btn-flat left white-text m-t-10 m-b-10">solarize</a>

        <a id="filters-discard" class="btn-flat right white-text m-t-10 m-b-10">discard</a>
        <a id="filters-save" class="btn-flat right white-text m-t-10 m-b-10">save</a>
      </div>
    </footer>

    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.js"></script>
    <script>
      $( document ).ready(function() {
          $(".button-collapse").sideNav();
          $('.tooltipped').tooltip({delay: 300});
      });

      var renderer = new CanvasRenderer(false);
      var controls = new ControlsController();
      controls._setOnCanvasRenderer(renderer);
      renderer.setControlsController(controls);
    </script>
	</body>
</html>
